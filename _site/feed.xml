<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.0">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2021-01-24T13:25:01+08:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">wnagzihxa1n’s blog</title><subtitle>I am wnagzihxa1n, an unknown iOS/Android security researcher, this blog is my security study notes, just share something interesting.
</subtitle><author><name>wnagzihxa1n</name></author><entry><title type="html">大土豆安全笔记 2021.01.22 在线求团购*OS Internals III</title><link href="http://localhost:4000/2021/01/22/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0-2021.01.22.html" rel="alternate" type="text/html" title="大土豆安全笔记 2021.01.22 在线求团购*OS Internals III" /><published>2021-01-22T20:40:00+08:00</published><updated>2021-01-22T20:40:00+08:00</updated><id>http://localhost:4000/2021/01/22/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0%202021.01.22</id><content type="html" xml:base="http://localhost:4000/2021/01/22/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0-2021.01.22.html">&lt;p&gt;接下来到年前应该都是在学习漏洞CVE-2019-8605&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://bugs.chromium.org/p/project-zero/issues/detail?id=1806&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;两篇相关的文章，不得不说，PJ0的人写的文章就是棒！&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://googleprojectzero.blogspot.com/2019/12/sockpuppet-walkthrough-of-kernel.html&lt;/li&gt;
  &lt;li&gt;https://jsherman212.github.io/used_sock/&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;这个漏洞源于调用函数&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;disconnectx()&lt;/code&gt;后，在对&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;inp-&amp;gt;in6p_outputopts&lt;/code&gt;进行释放操作时，没有将其置为空，导致的一个释放后重用漏洞&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ip6_freepcbopts(inp-&amp;gt;in6p_outputopts);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;这里的调用路径上有一个CHECK需要绕过&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#define	SS_CANTRCVMORE		0x0020	/* can't receive more data from peer */
#define	SS_CANTSENDMORE		0x0010	/* can't send more data to peer */
#define	SOF_NPX_SETOPTSHUT	0x00002000 /* Non POSIX extension to allow

int
sosetoptlock(struct socket *so, struct sockopt *sopt, int dolock)
{
	...

	if ((so-&amp;gt;so_state &amp;amp; (SS_CANTRCVMORE | SS_CANTSENDMORE)) ==
	    (SS_CANTRCVMORE | SS_CANTSENDMORE) &amp;amp;&amp;amp;
	    (so-&amp;gt;so_flags &amp;amp; SOF_NPX_SETOPTSHUT) == 0) {
		/* the socket has been shutdown, no more sockopt's */
		error = EINVAL;
		goto out;
	}
	...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;理解一下这个检查，左边&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;so-&amp;gt;so_state&lt;/code&gt;只能是&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SS_CANTRCVMORE&lt;/code&gt;与&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SS_CANTSENDMORE&lt;/code&gt;之间任意一种且右边&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;so-&amp;gt;so_flags&lt;/code&gt;不能是&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SOF_NPX_SETOPTSHUT&lt;/code&gt;，就会跳到&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;goto out&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;(so-&amp;gt;so_state &amp;amp; (SS_CANTRCVMORE | SS_CANTSENDMORE)) == (SS_CANTRCVMORE | SS_CANTSENDMORE) 
&amp;amp;&amp;amp; (so-&amp;gt;so_flags &amp;amp; SOF_NPX_SETOPTSHUT) == 0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;但是天无绝人之路，看下面这个宏，允许在关闭Socket之后使用函数&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setsockopt&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#define	SONPX_SETOPTSHUT	0x000000001	/* flag for allowing setsockopt after shutdown */
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;找到这个宏的使用场景，发现是在&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;level&lt;/code&gt;为&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SOL_SOCKET&lt;/code&gt;的分支里，当满足&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sonpx.npx_mask&lt;/code&gt;和&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sonpx.npx_flags&lt;/code&gt;都为&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SONPX_SETOPTSHUT&lt;/code&gt;时，就会给&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;so-&amp;gt;so_flags&lt;/code&gt;添加&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SOF_NPX_SETOPTSHUT&lt;/code&gt;标志位&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;int
sosetoptlock(struct socket *so, struct sockopt *sopt, int dolock)
{
	...
	if (sopt-&amp;gt;sopt_level != SOL_SOCKET) {
		...
	} else {
		...
		switch (sopt-&amp;gt;sopt_name) {
		...
		case SO_NP_EXTENSIONS: {
			struct so_np_extensions sonpx;

			error = sooptcopyin(sopt, &amp;amp;sonpx, sizeof (sonpx),
			    sizeof (sonpx));
			if (error != 0)
				goto out;
			if (sonpx.npx_mask &amp;amp; ~SONPX_MASK_VALID) {
				error = EINVAL;
				goto out;
			}
			/*
			 * Only one bit defined for now
			 */
			if ((sonpx.npx_mask &amp;amp; SONPX_SETOPTSHUT)) {
				if ((sonpx.npx_flags &amp;amp; SONPX_SETOPTSHUT))
					so-&amp;gt;so_flags |= SOF_NPX_SETOPTSHUT;    // 添加标志位
				else
					so-&amp;gt;so_flags &amp;amp;= ~SOF_NPX_SETOPTSHUT;
			}
			break;
		}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;当&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;so-&amp;gt;so_flags&lt;/code&gt;拥有&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SOF_NPX_SETOPTSHUT&lt;/code&gt;标志位，那么右边的检查就不能成立，成功绕过&lt;/p&gt;

&lt;p&gt;之后Socket就可以顺利的在关闭后调用函数&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setsockopt()&lt;/code&gt;了&lt;/p&gt;

&lt;p&gt;我们知道UAF漏洞的一个技巧是利用内存分配来占用被释放的空间，那填充这个空间的技术也是比较讲究的&lt;/p&gt;

&lt;p&gt;函数&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ipc_kmsg_copyin_ool_ports_descriptor()&lt;/code&gt;专门用于处理&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MACH_MSG_OOL_PORTS_DESCRIPTOR&lt;/code&gt;，使用&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MACH_MSG_OOL_PORTS_DESCRIPTOR&lt;/code&gt;可以在消息中传输大量的Port&lt;/p&gt;

&lt;p&gt;在层层往下调用后，会调用函数&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ipc_entry_lookup()&lt;/code&gt;，该函数会在&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;is_table&lt;/code&gt;数组内搜索对应&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;name&lt;/code&gt;的&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ipc_entry&lt;/code&gt;，我们可以从这个&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ipc_entry&lt;/code&gt;获取传入用户态Port的真实内核态对象&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ipc_entry_t
ipc_entry_lookup(
	ipc_space_t		space,
	mach_port_name_t	name)
{
	mach_port_index_t index;
	ipc_entry_t entry;
	index = MACH_PORT_INDEX(name);
	if (index &amp;lt;  space-&amp;gt;is_table_size) {
                entry = &amp;amp;space-&amp;gt;is_table[index];
		...
	}

	return entry;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;层层往回走，函数&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ipc_object_copyin()&lt;/code&gt;的参数&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;objectp&lt;/code&gt;会被存储到Caller函数&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ipc_kmsg_copyin_ool_ports_descriptor()&lt;/code&gt;的&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;objects[]&lt;/code&gt;数组里&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;for ( i = 0; i &amp;lt; count; i++) {
    mach_port_name_t name = names[i];
    ipc_object_t object;
    if (!MACH_PORT_VALID(name)) {
        objects[i] = (ipc_object_t)CAST_MACH_NAME_TO_PORT(name);
        continue;
    }
    kern_return_t kr = ipc_object_copyin(space, name, user_disp, &amp;amp;object);
    objects[i] = object;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;数组&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;objects[]&lt;/code&gt;在函数&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ipc_kmsg_copyin_ool_ports_descriptor&lt;/code&gt;进行内存空间分配，所以我们只要让&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ports_length&lt;/code&gt;等于&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;inp-&amp;gt;in6p_outputopts&lt;/code&gt;的大小，就可以让它分配到我们释放掉的空间里&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;data = kalloc(ports_length);
objects = (ipc_object_t *) data;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;还有填充之后，如何构造所需原语，这些都需要我再仔细学习研究&lt;/p&gt;

&lt;p&gt;有很多的细节真的还是要看《Mac OS X技术内幕》这本书，其它地方完全搜不到&lt;/p&gt;

&lt;p&gt;上次说的卷三可能要等之后团购了，大佬们要是有渠道一定喊我一下，最好有优惠的价格那种，我比较穷&lt;/p&gt;

&lt;p&gt;要是有大佬不玩了，可以二手卖我&lt;/p&gt;

&lt;p&gt;《Exploiting CVE-2020-15994 Chrome WebAssembly Engine UAF Vulnerability》，浏览器要跟起来了，毕竟是要浏览器打到内核&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://blog.br0vvnn.io/pages/blogpost.aspx?id=5&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Flanker的分享《&lt;a href=&quot;https://mp.weixin.qq.com/s/G26MJOH4VPene1Sd_zjEQw&quot;&gt;Fuzzing战争系列之二：不畏浮云遮望眼&lt;/a&gt;》，我底子差，认真看了个乐，师傅们看懂了教我&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://speakerdeck.com/flankerhqd/blowing-the-cover-of-android-binary-fuzzing&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;我计划在农历年前或者年后组织一波技术分享，线上视频会议模式&lt;/p&gt;

&lt;p&gt;人数不会很多，大概三到五个人，所有参与者都需要准备分享议题，分享前一周提供完整版文章与Slides，所有参与者都要提前阅读其他分享者的文章并准备要提问的问题&lt;/p&gt;

&lt;p&gt;吃瓜时间，这个我不知道真假，只是道听途说的，本分厂的瓜就吃到这&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/resources/96E7D8BECD5C7988EEC7B7C5D4A326EA.jpg&quot; alt=&quot;IMAGE&quot; /&gt;&lt;/p&gt;

&lt;p&gt;到钟了，老板们周末愉快~&lt;/p&gt;</content><author><name>wnagzihxa1n</name></author><category term="security_daily" /><summary type="html">接下来到年前应该都是在学习漏洞CVE-2019-8605 https://bugs.chromium.org/p/project-zero/issues/detail?id=1806</summary></entry><entry><title type="html">大土豆安全笔记 2021.01.15 您已本分</title><link href="http://localhost:4000/2021/01/15/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0-2021.01.15.html" rel="alternate" type="text/html" title="大土豆安全笔记 2021.01.15 您已本分" /><published>2021-01-15T20:40:00+08:00</published><updated>2021-01-15T20:40:00+08:00</updated><id>http://localhost:4000/2021/01/15/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0%202021.01.15</id><content type="html" xml:base="http://localhost:4000/2021/01/15/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0-2021.01.15.html">&lt;p&gt;先庆祝一下，写了两年公众号，这周关注破四百了，感谢四百零八位读者朋友们的支持，我再努把力，咱们过年前上五百&lt;/p&gt;

&lt;p&gt;B站还真是一个神奇的网站，啥都能搜到，不过讲的并不是Mach Port很相关的&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/resources/2E2BE9F76423A919F796CBBF9497E598.jpg&quot; alt=&quot;IMAGE&quot; /&gt;&lt;/p&gt;

&lt;p&gt;周二发了一篇《&lt;a href=&quot;https://mp.weixin.qq.com/s/H3x6mYuXcVge-EKn0gCrmw&quot;&gt;CVE-2020-27950 iOS内核信息泄露&lt;/a&gt;》，这是近期我一直在学习的漏洞，主要是在Mach Message使用过程中，消息尾部的数据处理没有做好逻辑控制，导致一个字段可以绕过初始化，进而泄露出内核的数据&lt;/p&gt;

&lt;p&gt;因为我是刚开始学习，所以有很多基础概念并不清楚，比如Mach Message是什么，Mach Port是什么，还有消息尾trailer，也是在翻了很多纸质资料再结合源码阅读才理解的，关于我看的资料文章里都有记录，包括纸质书籍对应的章节，也都有明确标识&lt;/p&gt;

&lt;p&gt;读源码确实可以直观的学到很多，比如用户态数据是如何一层层走到内核态的，XNU的Trap机制，参数命名习惯等等，而且还可以顺带思考下这个漏洞路径周边是否有其它的问题&lt;/p&gt;

&lt;p&gt;我还没有研究的很深入，比如Mach Port还要等待接下来仔细学习&lt;/p&gt;

&lt;p&gt;本周在看的是玄武实验室发的一篇使用XPC机制提权的漏洞，这样的逻辑漏洞一直是我最喜欢的&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://xlab.tencent.com/en/2021/01/11/cve-2020-9971-abusing-xpc-service-to-elevate-privilege/&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;PJ0的saelo之前分享的launchd漏洞以及2018 pwn2own的利用&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://saelo.github.io/presentations/bits_of_launchd.pdf&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;这两个漏洞我会写比较详细的分析，从XPC开发层面使用，到launchd机制内部实现，在这两部分知识的基础上，再来分析两个漏洞&lt;/p&gt;

&lt;p&gt;发现一个很有意思的项目，教大家怎么玩macOS驱动漏洞挖掘利用的，不过作者目前只写了一点，希望别鸽，挺期待的&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://fuzzing.science/vulnerable-kext/about/index.html&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;这两天刷屏了一个病毒《&lt;a href=&quot;https://mp.weixin.qq.com/s/J3qblkEvGk-JXFKoIXTVPQ&quot;&gt;紧急通知：incaseformat病毒可清空硬盘&lt;/a&gt;》，这个病毒属于十多年前的老病毒，多家杀软都支持查杀，大家任选一个即可，这个病毒没啥特别的水平&lt;/p&gt;

&lt;p&gt;关于病毒想给大家科普些概念：病毒本质上也是一个软件，背后也是代码&lt;/p&gt;

&lt;p&gt;举个安卓病毒例子，我手机上有一款短信软件，有权限发送，接收，删除，编辑等权限，常规来看这种行为是没有问题的，那如果这个软件可以接收服务器的指令去做对应的行为呢？&lt;/p&gt;

&lt;p&gt;比如服务器下发一个A指令，这个软件执行代码把短信打包发送回服务器，服务器下发B指令，这个软件就删除所有短信&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;所有的行为，都是安卓系统本身所允许的操作&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;高级的病毒，会使用漏洞技术，这些我们暂时不讨论&lt;/p&gt;

&lt;p&gt;熊猫正正发了一篇对此事的看法《&lt;a href=&quot;https://mp.weixin.qq.com/s/5b7dr_k0gQdWnXPDN9Gxcg&quot;&gt;对incaseformat蠕虫事件一些思考&lt;/a&gt;》&lt;/p&gt;

&lt;p&gt;我以前也是搞APT病毒分析的，我可以理解其中一些观点，现在大家都喜欢吹各种新概念，各种人工智能，机器学习，我也自己跟着学过一些，但毕竟体系庞大而我又很菜，没学会&lt;/p&gt;

&lt;p&gt;又到了每周的吃瓜时间，pdd最近很火啊，火出圈了都&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/resources/6A75CE1D9F7688B7BBA4886B69293F04.jpg&quot; alt=&quot;IMAGE&quot; /&gt;&lt;/p&gt;

&lt;p&gt;远程删照片事件喜提热搜，这事我从技术角度讲几种可行方案&lt;/p&gt;

&lt;p&gt;合理合法不犯罪的第一种：该用户用的是Vivo手机，Vivo是定制的Android系统，Android系统应用使用的是权限申请机制，举个例子，比如某个应用它某个功能需要读写相册，那么它就会申请读写相册的权限，并且需要用户手动点击弹窗的确认按钮，保证用户是知道且同意这个应用申请了读写相册的权限，那么在手机这一侧，pdd已经拥有了读写相册的权限，客户端再跟服务端建立一个指令下发通道，然后就可以跟跟病毒一样下发指令做删除照片的操作了&lt;/p&gt;

&lt;p&gt;不合理不合法且犯罪的第二种：使用漏洞&lt;/p&gt;

&lt;p&gt;如果是搁平常，我第一反应就是第二种不可能，因为国内Android手机系统版本太多了，首先厂商不同，厂商手机型号不同，还有那些十八线乱七八糟的杂牌，漏洞利用又是比较精细的活，一个字节偏移错了手机都要崩&lt;/p&gt;

&lt;p&gt;但pdd现在这情况，我还真不敢说第二种没有可能，pdd的下沉用户到底有多下沉，有多少群体使用的手机系统根本就已经不维护更新了，其它不说，Sqlite，WebView，细思极恐&lt;/p&gt;

&lt;p&gt;大牛蛙发的朋友圈，看来脉脉上爆料的拒绝黑客攻击是真的&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/resources/AB7A39D6FA52C93725EFF5FB19ABB05C.jpg&quot; alt=&quot;IMAGE&quot; /&gt;&lt;/p&gt;

&lt;p&gt;拼多多的安全大佬发的回忆录，我一直吐槽数字总是搬工位，看来垃圾行政管理哪哪都有，之前有一次搬工位，刚搬了一个月都不到，然后有一个其它部门的HR过来对着我们组的工位说她们要坐这里，我TM&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://www.leadroyal.cn/?p=1228#more-1228&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;本来要收摊了，结果发现一封邮件，我现在是真的不敢去&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/resources/5E3BA5D11F9FCF26E14A7451668952C8.jpg&quot; alt=&quot;IMAGE&quot; /&gt;&lt;/p&gt;

&lt;p&gt;最后跟大伙说个事，我建了一个小密圈，不收费，主要是发一些我平时学习的时候读的一些文章&lt;/p&gt;

&lt;p&gt;比如今天我要学一个XPC的漏洞，那我就会搜XPC机制是什么，用户态是如何使用的，可控哪些参数，底层如何实现等一堆问题，那就会搜出来很多资料需要看，每周的安全笔记放的都是这些搜索结果筛选过后的资料&lt;/p&gt;

&lt;p&gt;所以建个小密圈，我看完的资料，不管有用没用的，都往上放，有兴趣可以加一下，不过别报太大期望，毕竟我只是个入门选手&lt;/p&gt;</content><author><name>wnagzihxa1n</name></author><category term="security_daily" /><summary type="html">先庆祝一下，写了两年公众号，这周关注破四百了，感谢四百零八位读者朋友们的支持，我再努把力，咱们过年前上五百</summary></entry><entry><title type="html">大土豆安全笔记 2021.01.08 我，零基础，学iOS macOS安全</title><link href="http://localhost:4000/2021/01/08/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0-2021.01.08.html" rel="alternate" type="text/html" title="大土豆安全笔记 2021.01.08 我，零基础，学iOS macOS安全" /><published>2021-01-08T20:40:00+08:00</published><updated>2021-01-08T20:40:00+08:00</updated><id>http://localhost:4000/2021/01/08/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0%202021.01.08</id><content type="html" xml:base="http://localhost:4000/2021/01/08/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0-2021.01.08.html">&lt;p&gt;上周末发的红包好像被薅羊毛了，下次我发的时候设个暗号&lt;/p&gt;

&lt;p&gt;有一些读者朋友跟我交流，说想一起研究iOS/macOS安全&lt;/p&gt;

&lt;p&gt;我简单说一下我的情况，最早我是玩的Windows，想不到吧&lt;/p&gt;

&lt;p&gt;大二那一年的暑假，我一个人在家里捣鼓了两个月，那时买不到正版的《0day2》，我就打印了一本，说真的，特痛苦，因为是黑白的，很多内存数据都看不清，这玩意单步调试就改的就是内存里一个字节，眼睛都快看瞎了，好在后来找到了一个彩色版本的电子书，拯救了我&lt;/p&gt;

&lt;p&gt;后来因为专业课的原因，我开始学习安卓开发，有一次在吾爱破解上面找破解软件，找着找着我就看到了安卓逆向的帖子，所以就掉进移动安全的坑里了&lt;/p&gt;

&lt;p&gt;再后来大家也都知道了，毕业后搞安卓APT，然后又搞应用漏洞&lt;/p&gt;

&lt;p&gt;说回系统学习macOS安全这事，我每周照例记录进度和资料分享，只是我个人的规划，不是团队KPI，毕竟我现在只是一个卖鞋的，就这么简单&lt;/p&gt;

&lt;p&gt;我的学习方式就是自己搭建知识体系，就像搞逆向，我会先学习开发，同样，我会学习macOS平台的各种知识&lt;/p&gt;

&lt;p&gt;这周在研究的一个问题就是kernelcache的符号，大家有兴趣可以去翻前两天的文章《&lt;a href=&quot;https://mp.weixin.qq.com/s/4uJMMkCrIR9kk45TGBZxAQ&quot;&gt;关于恢复kernelcache符号的问题&lt;/a&gt;》，我详细记录了我遇到这个问题后是如何思考与解决的&lt;/p&gt;

&lt;p&gt;我刚开始学习，想到的方法肯定不是最好的，希望搞iOS系统安全的师傅们能多指点我一下&lt;/p&gt;

&lt;p&gt;CVE-2020-27950，XNU内核信息泄露&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://www.synacktiv.com/en/publications/ios-1-day-hunting-uncovering-and-exploiting-cve-2020-27950-kernel-memory-leak.html#&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;关于这个漏洞，我学着学着才发现这对我来说简直是大坑，其中各种奇奇怪怪的知识点，不过也好，东拼西凑的学会了不少东西了，现在在看Mach Message，Mach Port相关的，先从正面使用入手，然后看源码流程，掌握其中一些比较常见的结构体，比如&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mach_msg_trailer_t&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;mach_msg&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;http://web.mit.edu/darwin/src/modules/xnu/osfmk/man/mach_msg.html&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;mach_msg_header&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;http://web.mit.edu/darwin/src/modules/xnu/osfmk/man/mach_msg_header.html&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Mach 原语-学习笔记&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;http://www.kobeluo.com/tech/2016/10/31/studyNote-Mach/&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;iOS Jailbreak Principles - Sock Port 漏洞解析（二）通过 Mach OOL Message 泄露 Port Address&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://juejin.cn/post/6844904003675881485&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Mach ports&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://docs.darlinghq.org/internals/macos-specifics/mach-ports.html&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;RunLoop深度探究（二）&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://www.jianshu.com/p/6582c47a13c8&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;再看CVE-2016-1757—浅析mach message的使用&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://turingh.github.io/2016/07/05/%E5%86%8D%E7%9C%8BCVE-2016-1757%E6%B5%85%E6%9E%90mach%20message%E7%9A%84%E4%BD%BF%E7%94%A8/&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;joker和jtool2，用于分析kernelcache文件&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;http://www.newosxbook.com/tools/joker.html&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;macOS内核扩展漏洞挖掘指导流程，我要学的还有很多很多很多&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://www.anquanke.com/post/id/146857#h2-15&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;IDA Pro 7.5 SP3（x86, x64, ARM, ARM64, PPC, PPC64, MIPS)&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://bbs.pediy.com/thread-264354.htm&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;想买三本书学习，看了目录感觉不错，就是现在不好买，尤其是第三本&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/resources/4A57BC9D014DD4CD283AC830B332DC20.jpg&quot; alt=&quot;IMAGE&quot; /&gt;&lt;/p&gt;

&lt;p&gt;第一本我发现了一个下载链接，但是打不开&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;http://universa.unijales.edu.br/099105556x_macos_and_ios_internals_volume_i_user_mode_v12.pdf&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;作者放出了第三本的部分章节，合起来大概六七十页&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;http://newosxbook.com/QiLin/qilin.pdf&lt;/li&gt;
  &lt;li&gt;http://newosxbook.com/files/PhJB.pdf&lt;/li&gt;
  &lt;li&gt;http://newosxbook.com/free/security12deltae.pdf&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;有人做了个合集&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://geosn0w.github.io/j/bookreader/thebook.pdf&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;本想着找tangsilian师傅借一下第三本看看，师傅说送我一本，那我就当师傅资源入股了，等我RJB给师傅送一辆911过去&lt;/p&gt;

&lt;p&gt;对了，作者还有一个论坛&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;http://newosxbook.com/forum/index.php&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;《Mac OS® X and iOS Internals TO THE APPLE’S CORE》的电子版，它的中文译本《深入解析Mac OS X &amp;amp; iOS操作系统》&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;http://newosxbook.com/MOXiI.pdf&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;苹果这次终于不扭扭捏捏的了&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://opensource.apple.com/tarballs/xnu/xnu-7195.50.7.100.1.tar.gz&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;再贴两个资源贴，前者各种漏洞汇总，后者各种书籍PDF，非常全面&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://github.com/Proteas/apple-cve&lt;/li&gt;
  &lt;li&gt;https://github.com/writeups/iOS&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;接下来是吃瓜时间&lt;/p&gt;

&lt;p&gt;前几天吃了个pdd的瓜，说是pdd的安全总监因为没拿到公司该给的期权离职了，还要打官司，pdd以后叫瓜多多吧&lt;/p&gt;

&lt;p&gt;想来我在安全圈混了这么些年，结果这些大佬一个都不熟，吃个瓜也都是二手的，流泪&lt;/p&gt;

&lt;p&gt;另一件事就是MJ从360离职了，是的，MJ我也不熟，但是这三年来我在360很多朋友都走了，我一个卖鞋的听到这些，恍如隔世&lt;/p&gt;

&lt;p&gt;下周的学习应该是动态调试一下XNU内核了，到时候看看是拿虚拟机还是真机，搜了下有不少的解决方案&lt;/p&gt;

&lt;p&gt;iPhone的环境也捣鼓一下，我手上有个水果6，可越狱的版本，刚好可以拿来研究学习&lt;/p&gt;</content><author><name>wnagzihxa1n</name></author><category term="security_daily" /><summary type="html">上周末发的红包好像被薅羊毛了，下次我发的时候设个暗号</summary></entry><entry><title type="html">大土豆安全笔记 2020.12.31 征途漫漫，惟有奋斗！</title><link href="http://localhost:4000/2020/12/31/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0-2020.12.31.html" rel="alternate" type="text/html" title="大土豆安全笔记 2020.12.31 征途漫漫，惟有奋斗！" /><published>2020-12-31T20:40:00+08:00</published><updated>2020-12-31T20:40:00+08:00</updated><id>http://localhost:4000/2020/12/31/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0%202020.12.31</id><content type="html" xml:base="http://localhost:4000/2020/12/31/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0-2020.12.31.html">&lt;p&gt;去年立的一个Flag，说要公众号关注上一千，emmmmmmmm，感谢三百零四位读者朋友们的支持！&lt;/p&gt;

&lt;p&gt;可能是我写的还不够好&lt;/p&gt;

&lt;p&gt;今年「大土豆安全笔记」一共写了三十五篇，我跟大家聊了很多我的想法，大部分是关于移动安全的&lt;/p&gt;

&lt;p&gt;我一直在重复APP审计一定不要只做纯应用的审计，本地搞的再厉害那也只是本地，把APP作为入口，找到业务接口，结合渗透的技术，拿下后台&lt;/p&gt;

&lt;p&gt;可惜我见过不少安全团队关于APP安全都是做这种纯应用的审计，或者说APP和Web分开&lt;/p&gt;

&lt;p&gt;这方面大家有兴趣可以多关注一下，移动端的业务逻辑漏洞是特别有趣的，产出也很丰富&lt;/p&gt;

&lt;p&gt;今年我的安全研究重点会转移到iOS和macOS上，有共同方向的读者朋友们欢迎加我微信一起交流&lt;/p&gt;

&lt;p&gt;好啦，话不多说，小红包谢谢大家，我研究了一会不知道怎么在文章里插入红包小程序，所以后台回复「抽奖」吧&lt;/p&gt;

&lt;p&gt;我不靠这个涨粉，真的希望大家关注我是因为认可我写的东西&lt;/p&gt;

&lt;p&gt;新的一年，祝各位读者0day多多，bounty多多！也希望大家身体健康！&lt;/p&gt;</content><author><name>wnagzihxa1n</name></author><category term="security_daily" /><summary type="html">去年立的一个Flag，说要公众号关注上一千，emmmmmmmm，感谢三百零四位读者朋友们的支持！</summary></entry><entry><title type="html">大土豆安全笔记 2020.12.28 明天的CIS见个面呀</title><link href="http://localhost:4000/2020/12/28/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0-2020.12.28.html" rel="alternate" type="text/html" title="大土豆安全笔记 2020.12.28 明天的CIS见个面呀" /><published>2020-12-28T20:40:00+08:00</published><updated>2020-12-28T20:40:00+08:00</updated><id>http://localhost:4000/2020/12/28/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0%202020.12.28</id><content type="html" xml:base="http://localhost:4000/2020/12/28/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0-2020.12.28.html">&lt;p&gt;好久没跟各位读者聊天了，前后算下来得有一个半月了&lt;/p&gt;

&lt;p&gt;前段时间我无意中获取到了微博的那五亿数据，本着资源最大化利用的思想，我做了一些数据处理，想结合其它数据搭一个私有社工库，目前数据还在跑着，得优化一下速度了&lt;/p&gt;

&lt;p&gt;明儿个有个安全会议，我从朋友那里获得了一张票，两天时间，去跟大家交个朋友&lt;/p&gt;

&lt;p&gt;有几个不错的议题我这里记录一下，明后天学习完回来做个笔记跟大家分享，好久没参加会议了，啥都想听，啥都想学，但我感觉又是啥都没学会的一次瞎忙&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;时间&lt;/th&gt;
      &lt;th&gt;议题&lt;/th&gt;
      &lt;th&gt;Speaker&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;DAY1 10:30 - 11:00&lt;/td&gt;
      &lt;td&gt;网络安全监测与技术创新&lt;/td&gt;
      &lt;td&gt;姚佳明 国家信息技术安全研究中心威胁监测事业部副部长&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DAY1 11:00 - 11:30&lt;/td&gt;
      &lt;td&gt;中国网络安全产业推进及公共服务探索&lt;/td&gt;
      &lt;td&gt;崔涛 中国信通院安全研究所网络安全部副主任&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DAY1 13:30 - 14:00&lt;/td&gt;
      &lt;td&gt;漫谈移动应用个人信息安全保护治理&lt;/td&gt;
      &lt;td&gt;万小博 上海互联网应急中心网络安全处项目负责人&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DAY1 14:00 - 14:30&lt;/td&gt;
      &lt;td&gt;网络流量安全分析的创新探索与实践&lt;/td&gt;
      &lt;td&gt;徐钟豪 斗象科技CTO&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DAY1 14:30 - 15:00&lt;/td&gt;
      &lt;td&gt;企业安全合规与物联网隐私保护实践&lt;/td&gt;
      &lt;td&gt;宋文宽 小米集团信息安全与隐私委员会秘书长&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DAY1 16:20 - 16:50&lt;/td&gt;
      &lt;td&gt;智能终端隐私防跟踪技术实践&lt;/td&gt;
      &lt;td&gt;张栋 vivo千镜安全实验室安全研究员&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DAY2 14:30 - 15:00&lt;/td&gt;
      &lt;td&gt;基于业务安全情报的攻防实践&lt;/td&gt;
      &lt;td&gt;邓欣 永安在线CTO&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DAY2 15:00 - 15:30&lt;/td&gt;
      &lt;td&gt;网络攻防靶场的技术经验分享&lt;/td&gt;
      &lt;td&gt;张锦章 360实网攻防中心总经理&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DAY2 15:30 - 16:00&lt;/td&gt;
      &lt;td&gt;甲方视角下的攻防演练部署&lt;/td&gt;
      &lt;td&gt;谭超 某航司信息安全专家&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DAY2 16:00 - 16:30&lt;/td&gt;
      &lt;td&gt;钓鱼演练：基于攻防模式的人为因素风险教育&lt;/td&gt;
      &lt;td&gt;宋琼 上海易念信息科技有限公司产品研发总监&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DAY2 16:00 - 16:30&lt;/td&gt;
      &lt;td&gt;漏洞挖掘和检测在智能设备中的最佳实践&lt;/td&gt;
      &lt;td&gt;杨成明 美团安全专家&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DAY2 10:30 - 11:10&lt;/td&gt;
      &lt;td&gt;我的一键 getshell 代码开发之路&lt;/td&gt;
      &lt;td&gt;Ali0th 斗象科技资深安全研究员&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DAY2 11:10 - 11:50&lt;/td&gt;
      &lt;td&gt;ATT&amp;amp;CK 红队战术漫谈&lt;/td&gt;
      &lt;td&gt;Haya 木星安全实验室 红队负责人&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DAY2 13:00 - 13:40&lt;/td&gt;
      &lt;td&gt;Redteaming：主流杀软对抗之路&lt;/td&gt;
      &lt;td&gt;伍智波，scareing 自由红队攻防研究员&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DAY2 13:40 - 14:20&lt;/td&gt;
      &lt;td&gt;威胁情报挖掘浅谈&lt;/td&gt;
      &lt;td&gt;杨帆 斗象科技高级安全研究员&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DAY2 14:20 - 15:00&lt;/td&gt;
      &lt;td&gt;在代码中审计漏洞的世界&lt;/td&gt;
      &lt;td&gt;吕行 360网络安全专家，资深安全白帽&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DAY2 15:00 - 15:40&lt;/td&gt;
      &lt;td&gt;MacOS目录权限漏洞挖掘&lt;/td&gt;
      &lt;td&gt;CK01 WPS安全研究员，破晓团队核心成员&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DAY2 15:40 - 16:20&lt;/td&gt;
      &lt;td&gt;APP审计之白帽必杀技&lt;/td&gt;
      &lt;td&gt;凌迟 移动端安全建设及安全攻防专家&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;还有一个线上的反诈论坛&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;时间&lt;/th&gt;
      &lt;th&gt;议题&lt;/th&gt;
      &lt;th&gt;Speaker&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;DAY2 13:30 - 14:00&lt;/td&gt;
      &lt;td&gt;网络违法犯罪产业链发展趋势研究&lt;/td&gt;
      &lt;td&gt;张瑞冬 成都无糖信息技术有限公司创始人、CEO，PKAV技术团队负责人&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DAY2 14:00 - 14:30&lt;/td&gt;
      &lt;td&gt;虚拟货币时代如何反诈骗和反洗钱&lt;/td&gt;
      &lt;td&gt;李瑞 PeckShield 反洗钱（AML）业务负责人&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DAY2 14:30 - 15:00&lt;/td&gt;
      &lt;td&gt;无处不在的黑色产业链&lt;/td&gt;
      &lt;td&gt;辛巴 FreeBuf年度作者&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;这段时间我扩展看了些iOS/macOS相关的资料&lt;/p&gt;

&lt;p&gt;《CVE-2020-27897: APPLE MACOS KERNEL OOB WRITE PRIVILEGE ESCALATION VULNERABILITY》&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://www.thezdi.com/blog/2020/12/9/cve-2020-27897-apple-macos-kernel-oob-write-privilege-escalation-vulnerability&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;《CVE-2020-9967 - Apple macOS 6LowPAN Vulnerability》&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://alexplaskett.github.io/CVE-2020-9967/&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;《Examining CVE-2020-27932 on macOS 10.15.7》&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://worthdoingbadly.com/specialreply/&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;《IOS 1-DAY HUNTING: UNCOVERING AND EXPLOITING CVE-2020-27950 KERNEL MEMORY LEAK》&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://www.synacktiv.com/en/publications/ios-1-day-hunting-uncovering-and-exploiting-cve-2020-27950-kernel-memory-leak.html&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;对了，我发现一个特别神奇的软件，叫作Notion，个人版本免费，支持Android，iOS，MacOS，Windows多平台&lt;/p&gt;

&lt;p&gt;我还在研究，等我弄明白了再写一篇使用心得，真的很好用，记笔记，项目推进，时间管理，贼方便&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/resources/54741AEBE6B36EB1556A09DBCC33C296.jpg&quot; alt=&quot;IMAGE&quot; /&gt;&lt;/p&gt;</content><author><name>wnagzihxa1n</name></author><category term="security_daily" /><summary type="html">好久没跟各位读者聊天了，前后算下来得有一个半月了</summary></entry><entry><title type="html">大土豆安全笔记 2020.10.30 我是热爱学习的民间安全人士</title><link href="http://localhost:4000/2020/10/30/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0-2020.10.30.html" rel="alternate" type="text/html" title="大土豆安全笔记 2020.10.30 我是热爱学习的民间安全人士" /><published>2020-10-30T20:40:00+08:00</published><updated>2020-10-30T20:40:00+08:00</updated><id>http://localhost:4000/2020/10/30/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0%202020.10.30</id><content type="html" xml:base="http://localhost:4000/2020/10/30/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0-2020.10.30.html">&lt;p&gt;今天开始我就是民间安全人士了&lt;/p&gt;

&lt;p&gt;该学习还是要学习，不然以后咋和各位老板们吹牛逼&lt;/p&gt;

&lt;p&gt;Gartner发布了2021年的科技战略趋势&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://emtemp.gcom.cloud/ngw/globalassets/en/information-technology/documents/insights/top-tech-trends-ebook-2021.pdf&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;下载这个报告也是有趣，一开始我是看到的其他人的中文解读，我想着这玩意还是看原文比较好，起码不夹带私货，谁想它需要填一大堆资料，然后我就瞎填，填完后弹一个按钮出来下载，下载完我也是手欠搜了一下，这个下载链接就在源码里…&lt;/p&gt;

&lt;p&gt;九大趋势全在表格里了&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/resources/BA2EDA208F3BB9139C2C1228BE7CDB23.jpg&quot; alt=&quot;IMAGE&quot; /&gt;&lt;/p&gt;

&lt;p&gt;理解起来挺费劲的，我也没掌握透&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;行为互联网&lt;/li&gt;
  &lt;li&gt;全面体验&lt;/li&gt;
  &lt;li&gt;隐私增强计算&lt;/li&gt;
  &lt;li&gt;分布式云&lt;/li&gt;
  &lt;li&gt;随处运营&lt;/li&gt;
  &lt;li&gt;网络安全网格&lt;/li&gt;
  &lt;li&gt;组装式智能企业&lt;/li&gt;
  &lt;li&gt;人工智能工程化&lt;/li&gt;
  &lt;li&gt;超级自动化&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;以前我是对这些新名词一点兴趣都没有，结果现在转行卖鞋之后却对这些东西开始感兴趣了&lt;/p&gt;

&lt;p&gt;这都不是我一个月薪三千的人该想的事儿&lt;/p&gt;

&lt;p&gt;…&lt;/p&gt;

&lt;p&gt;前几天网信办又公布一批被治理APP清单，我说的吧，上头现在愿意有所为，这是好事&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://mp.weixin.qq.com/s/_YKGDaZdu6tnbTm3BO4Nuw&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;以前出这种清单我真的是提心吊胆的看完，一个字一个字读到最后，然后又倒着读到开头，最后确定没有我司产品才松一口气，以后没有这烦恼了&lt;/p&gt;

&lt;p&gt;这中间有个小插曲，迪士尼说清单里面提到的“上海迪士尼乐园”不是他们开发的，这就尴尬了，迪士尼的律师函正在路上…&lt;/p&gt;

&lt;p&gt;现在整治的目标并没有提前告知，不过从历史清单来看，未成年人教育类是一个重头&lt;/p&gt;

&lt;p&gt;具体的网信办通知大家可以看这里，今年七月份出来的，新鲜热乎&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/resources/3C59392E44A31DD5D6B4122242685545.jpg&quot; alt=&quot;IMAGE&quot; /&gt;&lt;/p&gt;

&lt;p&gt;网信办最新要治理的是浏览器信息流，信息流这东西跟头条有点像，这里面的新闻真假参半，跟头条一样，一刷就停不下来，所以我真不想用国产的浏览器，Safari保平安，最后的净土&lt;/p&gt;

&lt;p&gt;《国家网信办对手机浏览器扰乱网络传播秩序突出问题开展专项集中整治》&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://mp.weixin.qq.com/s/XV4okTZ_vnnPEkC7Hj03fQ&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;这里面加粗提到的，就是现在国产浏览器的现状了，&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/resources/581ED4D7366B55B7E2F764F2AA68DBBE.jpg&quot; alt=&quot;IMAGE&quot; /&gt;&lt;/p&gt;

&lt;p&gt;干翻这群一天到晚瞎鸡儿标题党编故事的人&lt;/p&gt;</content><author><name>wnagzihxa1n</name></author><category term="security_daily" /><summary type="html">今天开始我就是民间安全人士了</summary></entry><entry><title type="html">大土豆安全笔记 2020.09.29 谢谢各位</title><link href="http://localhost:4000/2020/09/29/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0-2020.09.29.html" rel="alternate" type="text/html" title="大土豆安全笔记 2020.09.29 谢谢各位" /><published>2020-09-29T20:40:00+08:00</published><updated>2020-09-29T20:40:00+08:00</updated><id>http://localhost:4000/2020/09/29/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0%202020.09.29</id><content type="html" xml:base="http://localhost:4000/2020/09/29/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0-2020.09.29.html">&lt;p&gt;跟各位道个别，个人原因，以后菜栏不再更新&lt;/p&gt;

&lt;p&gt;真心感谢两百四十八位读者朋友的支持，本月底我会清空掉所有关注的读者&lt;/p&gt;

&lt;p&gt;今天不谈技术，最后闲聊一次吧&lt;/p&gt;

&lt;p&gt;我算是一个话比较多的人，一个搞二进制的，话这么多，不知道是不是少见，我印象中搞二进制的朋友大多都比较内向&lt;/p&gt;

&lt;p&gt;突然发现我跟安全圈的关系挺有趣，跟刷SRC的小白帽不熟，跟刷CTF的赛棍不熟，跟刷安全会议的会棍不熟，零星认识一些大佬，也都散落在各个安全团队里，这里就不列出来了，一只手就可以数过来&lt;/p&gt;

&lt;p&gt;你说我搞移动安全，那些Web圈的不认识也就算了，然而移动圈的我也不怎么熟，这就很尴尬了&lt;/p&gt;

&lt;p&gt;这不行啊，我这一肚子话没有群可以吹啊，所以这个菜栏就出现了&lt;/p&gt;

&lt;p&gt;我记得去年还是前年，有人统计了安全圈活跃的技术博主，我翻了三遍没有看到我，我一个保持周更安全笔记，偶尔还带两篇高质量漏洞分析的人竟然上不了榜，罢了罢了&lt;/p&gt;

&lt;p&gt;想想也是，我连微博都注销掉了，平时也就推上面看看师傅们转发的安全资讯，一个如此躁动的人就这样活生生的被遗忘了&lt;/p&gt;

&lt;p&gt;我的安全生涯也暂时到这里了，接下去先专心减肥，人一胖就出现各种问题，大家真的要注意，千万别胖&lt;/p&gt;

&lt;p&gt;把秋天的第一杯奶茶，换成茶&lt;/p&gt;

&lt;p&gt;我以前太局限了，把自己限定在安卓应用的漏洞领域里，其实业务安全可以玩的更有趣&lt;/p&gt;

&lt;p&gt;这段时间换了点有意思的方向扩展下眼界，看了很多文章，走了不少弯路，一个重要方向就是风控，我认识的一些朋友都去搞了风控相关，跟钱相关的就是好玩&lt;/p&gt;

&lt;p&gt;《欢迎来到风控时代》&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://www.zhihu.com/roundtable/risk&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;口碑不错的《风控要略》，我还没看，国庆的时候仔细读一读&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/resources/A2AEDB0CAF13C09AF7D753E3A8786FA6.jpg&quot; alt=&quot;IMAGE&quot; /&gt;&lt;/p&gt;

&lt;p&gt;有个哥们写了个Instagram的RCE分析，我一直想搞这种类型的漏洞，精力有限，业务这一块搞的精疲力尽，不知道明年有没有空整一下安全研究，各位老板带带我&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://research.checkpoint.com/2020/instagram_rce-code-execution-vulnerability-in-instagram-app-for-android-and-ios/&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Android WebView的UXSS，我个人对XSS这种类型的漏洞没啥兴趣，现在逻辑漏洞比较吃香，内存破坏也还行&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://alesandroortiz.com/articles/uxss-android-webview-cve-2020-6506/&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;剩下的大家有洞修洞，没洞的看个热闹&lt;/p&gt;

&lt;p&gt;火狐浏览器在局域网可被远程打开任意网页，这里的打开网页只是一个示例，它其实是发送Intent来触发行为，所以第一个Poc视频展示的是打开拨号界面​&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://gitlab.com/gitlab-com/gl-security/security-operations/gl-redteam/red-team-tech-notes/-/tree/master/firefox-android-2020&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;最近医院跑的勤，状态不太好，搞不动那么多东西了，大家凑合着看，我一不开广告，二不接推广，三没有付费，天天高质量不可能的，各位就当每末看个消遣&lt;/p&gt;

&lt;p&gt;真舍不得数字的食堂&lt;/p&gt;</content><author><name>wnagzihxa1n</name></author><category term="security_daily" /><summary type="html">跟各位道个别，个人原因，以后菜栏不再更新</summary></entry><entry><title type="html">大土豆安全笔记 2020.09.11 秋天，开始收获了</title><link href="http://localhost:4000/2020/09/11/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0-2020.09.11.html" rel="alternate" type="text/html" title="大土豆安全笔记 2020.09.11 秋天，开始收获了" /><published>2020-09-11T20:40:00+08:00</published><updated>2020-09-11T20:40:00+08:00</updated><id>http://localhost:4000/2020/09/11/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0%202020.09.11</id><content type="html" xml:base="http://localhost:4000/2020/09/11/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0-2020.09.11.html">&lt;p&gt;上周末去了草原，爬山加六公里徒步，我还是喜欢去沿海城市，吃喝玩乐，一条龙服务&lt;/p&gt;

&lt;p&gt;工具写完了，开始收获漏洞&lt;/p&gt;

&lt;p&gt;准备去一些官方站下一些ROM，关于ROM的解包这些是需要再写一个自动化的工具，因为现在高版本都会自带优化，直接提取出来的APK其实不包含多少代码，其中的一些技术细节我在之前《小米REDMI 5 Plus Second Space密码绕过》里提过，接下来我也会再单独写一篇讲讲&lt;/p&gt;

&lt;p&gt;我感觉真是欠了很多”单独写一篇“&lt;/p&gt;

&lt;p&gt;放心，有生之年肯定不会跳票&lt;/p&gt;

&lt;p&gt;Golang真的是让人一言难尽，我上周不是说我用Golang重写了Smali文件读取模块嘛，结果这周扫描微信的时候就开始出现Bug&lt;/p&gt;

&lt;p&gt;我通过递归来搜索路径，上一层搜索到的路径会返回给上一层进行合并操作，结果就踩坑了，可以看到回到上一层之后搜索路径就发生了变化&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/resources/A940D9A4B72CAC68FC596B164C4E72D7.jpg&quot; alt=&quot;IMAGE&quot; /&gt;&lt;/p&gt;

&lt;p&gt;后来学习了Golang的&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;append&lt;/code&gt;才明白其中问题所在，我举个例子，比如我现在有一个容量为1L的水桶A，我想要把一杯100ml的水和水桶A里的水合并，这时候Golang会先判断水桶A的容量够不够，如果够，直接在剩余空间添加，如果不够，就会先把水桶A换成另一个容量为2L的水桶，对应的操作就是换了个地址，重新开辟内存空间，空间开辟完了，再去添加，所以此时原先的水桶就会发生变化&lt;/p&gt;

&lt;p&gt;也就是说，我在对路径进行&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;append&lt;/code&gt;操作的时候，其实这个路径可能已经变化了，我再拿这个值做操作，可能会出现非预期，解决方案就是做拷贝，将&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;path&lt;/code&gt;拷贝一份去&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;append&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dest := make([]string, len(path))
copy(dest, path)
allPath = append(allPath, dest)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;以后不写Golang了，不然小命休矣&lt;/p&gt;

&lt;p&gt;这两天是华为开发者大会，果然跟对了组织还愁啥吃喝，这丰富的生态太强了&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/resources/5A9A10E405E953B2D55F9222EABCA481.jpg&quot; alt=&quot;IMAGE&quot; /&gt;&lt;/p&gt;

&lt;p&gt;图里的认证是很厉害的&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/resources/EE79DE40F27ACCA9FDCF2AA572CB3A71.jpg&quot; alt=&quot;IMAGE&quot; /&gt;&lt;/p&gt;

&lt;p&gt;让我最惊喜的是今年的IOT&lt;/p&gt;

&lt;p&gt;回家模式&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/resources/D0EF40E68F3B47AC15AB9B6A77FACD24.jpg&quot; alt=&quot;IMAGE&quot; /&gt;&lt;/p&gt;

&lt;p&gt;会客模式&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/resources/D885EA6B738A022A7EF446DC51AEE47B.jpg&quot; alt=&quot;IMAGE&quot; /&gt;&lt;/p&gt;

&lt;p&gt;这种万物互联的感觉是真的好&lt;/p&gt;

&lt;p&gt;我曾经在想，我以后装修房子的时候是肯定要考虑全屋智能的，选苹果系，产品不够丰富，而且壁垒有点高，并且价格贵，选谷歌，得爬梯子，选国内的厂商广告太多&lt;/p&gt;

&lt;p&gt;现在看来，可以选择华为了&lt;/p&gt;

&lt;p&gt;还有一个重要原因，我觉得我很有必要安排上这个&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/resources/F93C2425BDBC108AF251D4FD6BA65916.jpg&quot; alt=&quot;IMAGE&quot; /&gt;&lt;/p&gt;

&lt;p&gt;发布会结束后，鸿蒙开源了&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://openharmony.gitee.com/openharmony&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;自从华为对外公开鸿蒙以来，我总会听到各种质疑鸿蒙的声音，有意思的是这些持质疑态度的往往不是搞移动安全的，我也不知道这群人哪里来的信心来评价，张口就来吗？&lt;/p&gt;

&lt;p&gt;我对鸿蒙的态度一直是支持的，接下来我想加入华为的生态，这一把我要跟上组织的脚步&lt;/p&gt;

&lt;p&gt;我猜大家朋友圈应该被《一部手机失窃而揭露的窃取个人信息实现资金盗取的黑色产业链》刷屏了吧&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://mp.weixin.qq.com/s/3UeZzw2LmPsM3cU7Rhmb8w&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;说真的，是真的惊心动魄，这事要是发生在普通人身上，一点办法都没有&lt;/p&gt;

&lt;p&gt;但是这篇文章现在已经被删除了，我猜是某些不可抗拒的因素吧，不解决问题，光顾着遮羞，能进步吗？&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/resources/3E2A7F9B34ED4ADB9B7E9055AA584A39.jpg&quot; alt=&quot;IMAGE&quot; /&gt;&lt;/p&gt;

&lt;p&gt;圈内大佬Atum师傅做了一些扩展研究&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://zhuanlan.zhihu.com/p/231106722?utm_source=wechat_session&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;作者说手机锁屏密码被绕过，作为移动安全领域的一名底层小兵，除了作者的猜测说远程解锁这种方式之外，在开启了adb调试模式的情况下还可以通过锁屏软件的拒绝服务来进入系统，当然了，这里不排除更有技术含量的0day&lt;/p&gt;

&lt;p&gt;还有一种可能，就是人家是真的盯上你了，你在外面解锁手机的时候，瞅你一眼解锁密码，妥妥的&lt;/p&gt;

&lt;p&gt;最后感慨一下，不止一位师傅跟我说让我少跟别人说自己的挖洞思路，少说，多做，把鱼分给别人，不要把渔分给别人&lt;/p&gt;

&lt;p&gt;我一直都没听进去，现在听进去了，谢谢师傅们！&lt;/p&gt;

&lt;p&gt;明天去看《信条》，周末愉快~&lt;/p&gt;</content><author><name>wnagzihxa1n</name></author><category term="security_daily" /><summary type="html">上周末去了草原，爬山加六公里徒步，我还是喜欢去沿海城市，吃喝玩乐，一条龙服务</summary></entry><entry><title type="html">大土豆安全笔记 2020.09.04 又双叒叕写了一个工具</title><link href="http://localhost:4000/2020/09/04/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0-2020.09.04.html" rel="alternate" type="text/html" title="大土豆安全笔记 2020.09.04 又双叒叕写了一个工具" /><published>2020-09-04T20:40:00+08:00</published><updated>2020-09-04T20:40:00+08:00</updated><id>http://localhost:4000/2020/09/04/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0%202020.09.04</id><content type="html" xml:base="http://localhost:4000/2020/09/04/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0-2020.09.04.html">&lt;p&gt;最近真的是沉迷写各种工具&lt;/p&gt;

&lt;p&gt;是的，造了很多轮子，你看这轮子，它又大又圆&lt;/p&gt;

&lt;p&gt;这周主要做的就是优化扫描性能，同样的代码，同样的应用，我在MBP上三分钟就出结果，放服务器跑，整整跑了八个小时&lt;/p&gt;

&lt;p&gt;这玩意挺考验文件读写性能的，所以我从软件硬件两个角度同时优化，换了960G的SSD，用Go重新写了图搜索模块，舒服多了&lt;/p&gt;

&lt;p&gt;我觉得近两年国家对网络安全的重视程度远超从前，隔三差五就是挂一堆违规产品名单出来，该负责的部门和人愿意有所为，是件好事&lt;/p&gt;

&lt;p&gt;《工信部通报101款侵害用户权益行为APP》：今年第四批了，总有那么些业务线说了不听，非要人家给你挂出来才跟个孙子一样到处求爷爷告奶奶找人问怎么办，国内这些APP，有一个算一个，拿了这么多权限，收集了那么多数据，你真的用上了吗？还不是躺在数据库里吃灰&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://mp.weixin.qq.com/s/E0oyxKlvoutqM_MEfpaaUQ&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;《北京管局启动APP数据安全检测专项行动》：最近APP的数据安全治理工作开始行动起来了，走过路过都看看，该做的趁早就做了&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://mp.weixin.qq.com/s/fsATZMeisYt-1WsHSCET6A&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;下面是俩通知，各位，可以积极为国家做贡献了&lt;/p&gt;

&lt;p&gt;《关于征集《信息安全技术 移动互联网应用程序（APP）SDK安全指南》标准参编单位的通知》&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://mp.weixin.qq.com/s/7RG0zHUFfoCfq0hXOcK51A&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;《关于征集《信息安全技术 移动互联网应用程序（APP）个人信息安全测评规范》标准参编单位的通知》&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://mp.weixin.qq.com/s/-LwxbkZ_FKo3G_Hwn2E1JQ&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;人一胖就容易出现各种奇奇怪怪的问题，我睡觉的时候时不时就会憋醒，醒来后就会出现憋气后的大喘气，做了个检查，结论是轻度阻塞性睡眠呼吸暂停低通气综合征，过几天约一下报告上指定的教授看一下，估计还是减肥的事，以前血压高那医生也跟我说要减肥，不然问题大得很&lt;/p&gt;

&lt;p&gt;这个检查的设备很有意思，一个小盒子，上面接着三根管子，两根气管，一根是血氧夹，睡觉的时候把小盒子绑在肚皮上，然后两根气管就像医院ICU那样挂在鼻子上，测一晚上就行&lt;/p&gt;

&lt;p&gt;本周开心事儿，暗泉信息还注意到我了，是不是爬虫自动化发的？&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/resources/5DA81449BE9331A5EBA9CE04947F94EB.jpg&quot; alt=&quot;IMAGE&quot; /&gt;&lt;/p&gt;

&lt;p&gt;上次说的月初去上海休假还没去，工作上的事情耽误了&lt;/p&gt;

&lt;p&gt;运气不好的话得16号了，运气好的话，11号就可以去，美滋滋&lt;/p&gt;

&lt;p&gt;秋天到了，该回浙江吃海鲜啦&lt;/p&gt;

&lt;p&gt;周末愉快~&lt;/p&gt;</content><author><name>wnagzihxa1n</name></author><category term="security_daily" /><summary type="html">最近真的是沉迷写各种工具</summary></entry><entry><title type="html">大土豆安全笔记 2020.08.21 偷懒一周，内空</title><link href="http://localhost:4000/2020/08/21/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0-2020.08.21.html" rel="alternate" type="text/html" title="大土豆安全笔记 2020.08.21 偷懒一周，内空" /><published>2020-08-21T20:40:00+08:00</published><updated>2020-08-21T20:40:00+08:00</updated><id>http://localhost:4000/2020/08/21/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0%202020.08.21</id><content type="html" xml:base="http://localhost:4000/2020/08/21/%E5%A4%A7%E5%9C%9F%E8%B1%86%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0-2020.08.21.html">&lt;p&gt;我这周翻了翻奇安信的安全创客汇，想找找灵感，发现2017年有一个移动安全的项目&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/resources/B00A16B10BE64F27B859518C6F9D25D8.jpg&quot; alt=&quot;IMAGE&quot; /&gt;&lt;/p&gt;

&lt;p&gt;2017年那会加固是一个白热化的时代，大家都在研究第四代壳，也就是广义上的VMP&lt;/p&gt;

&lt;p&gt;第几代壳的定义大家可能有不同的理解，我这里简单讲讲&lt;/p&gt;

&lt;p&gt;第一代壳的特征是隐藏主Dex，通过动态运行以插件的形式进行调用&lt;/p&gt;

&lt;p&gt;第二代壳开始就开始有掉队的厂商了，像娜迦这种跑得快的，他们研发的第一代壳就是某些厂商的第二代壳，第二代壳的特征是代码抽取，比如阿里有一年的移动安全挑战赛，其中有一题就是使用的代码抽取，动态跑起来之后，可以看到其指令都存在于另一块内存里&lt;/p&gt;

&lt;p&gt;第三代壳的特征是So加固，比如OLLVM混淆，同时伴随Dex指令动态解密，运行时才解密&lt;/p&gt;

&lt;p&gt;第四代壳的特征是VMP，不过这里的VMP我并非很认可，更像是一个粗糙的代码映射，2017年之后我没有再跟进加固技术，不知道发展的怎么样了，这里不过多评价&lt;/p&gt;

&lt;p&gt;整个加固技术的发展就是如上所述&lt;/p&gt;

&lt;p&gt;客户也不全是不懂技术，人家也是会多方打听的&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/resources/337EF8D99F78678C00D52DA1E849402A.jpg&quot; alt=&quot;IMAGE&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Electron框架写的东西我见过好几个RCE了，这里有一个安全汇总也是挺好的&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://github.com/doyensec/awesome-electronjs-hacking&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Qmage MMS RCE到这里应该是完结了，很强！&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://github.com/googleprojectzero/SkCodecFuzzer/tree/master/mms_exploit&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Hacker101 CTF里的Android题目我认为出的很好&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;https://medium.com/bugbountywriteup/hacker101-ctf-android-challenge-writeups-f830a382c3ce&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;常见国内的Android题目一般就三种&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;简单Java层注册算法分析，无混淆&lt;/li&gt;
  &lt;li&gt;复杂Native层注册算法分析，有强混淆&lt;/li&gt;
  &lt;li&gt;极少数利用Apk特性&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;总结一下就是：绝大部分偏逆向能力&lt;/p&gt;

&lt;p&gt;2017年的时候，阿里出过一次移动安全挑战赛，那一次挑战赛从本质上来说，属于Real World CTF，比如声纹破解，攻破了这道题就等于把阿里的声纹防御机制攻破，这种赛题没啥意思&lt;/p&gt;

&lt;p&gt;换句话来说，这就是另一种形式的众测&lt;/p&gt;

&lt;p&gt;我发现了一个神器，很多次我想推出我的移动硬盘，总是显示被占用，这个工具可以看到是哪个进程在占用移动硬盘&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;http://www.hamsoftengineering.com/products/wkm/wkm.html&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;下周或者下下周准备休一星期假，目的地上海，所以提前跟两百四十八位读者朋友们说一声，本月不会有新文章了&lt;/p&gt;</content><author><name>wnagzihxa1n</name></author><category term="security_daily" /><summary type="html">我这周翻了翻奇安信的安全创客汇，想找找灵感，发现2017年有一个移动安全的项目</summary></entry></feed>